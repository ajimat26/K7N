<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UANGDUTY</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    .header {
      background: #2d2d2d;
      color: #fff;
      padding: 1rem;
      text-align: left;
      position: relative;
    }
    .header h1 {
      margin: 0;
      font-size: 1.5rem;
    }
    .admin-btn {
      position: absolute;
      left: 1rem;
      bottom: -2.5rem;
      background: red;
      color: #fff;
      border: none;
      padding: 0.5rem 1rem;
      cursor: pointer;
    }
    .container {
      padding: 2rem;
    }
    .section {
      background: #fff;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .hidden {
      display: none;
    }
    input, button {
      padding: 0.5rem;
      margin-top: 0.5rem;
      display: block;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>UANGDUTY</h1>
    <button class="admin-btn" onclick="toggleAdmin()" id="adminModeBtn">Mode Admin</button>
  </div>  <div class="container">
    <div class="section" id="account-section">
      <h2>Akun</h2>
      <input type="text" placeholder="Nama" id="namaAkun">
      <button onclick="buatAkun()">Buat Akun</button>
      <p id="akunInfo"></p>
    </div><div class="section" id="uang-section">
  <h2>Keuangan</h2>
  <input type="number" placeholder="Jumlah" id="jumlahInput">
  <button onclick="tambahUang()">Tambah Uang</button>
  <button onclick="ambilUang()">Ambil Uang</button>
  <p id="saldoDisplay">Saldo: 0</p>
</div>

<div class="section" id="chat-section">
  <h2>Chat</h2>
  <input type="text" id="chatInput" placeholder="Ketik pesan...">
  <button onclick="kirimChat()">Kirim</button>
  <div id="chatBox" style="margin-top: 1rem;"></div>
</div>

<div class="section hidden" id="admin-panel">
  <h2>Panel Admin</h2>
  <button onclick="togglePembuatanAkun()">Buka/Tutup Pembuatan Akun</button>
  <ul id="daftarAnggota"></ul>
  <h3>Riwayat Terakhir</h3>
  <ul id="logRiwayat"></ul>
</div>

  </div>  <script>
    let modeAdmin = false;
    let akunTerdaftar = {};
    let saldo = 0;
    let riwayat = [];
    let akunBolehDibuat = true;

    function toggleAdmin() {
      if (!modeAdmin) {
        const pass = prompt("Masukkan password admin:");
        if (pass === "RFD1") {
          modeAdmin = true;
          document.getElementById('admin-panel').classList.remove('hidden');
          document.getElementById('adminModeBtn').style.background = 'green';
          alert("Admin mode aktif.");
        } else {
          alert("Password salah.");
        }
      } else {
        modeAdmin = false;
        document.getElementById('admin-panel').classList.add('hidden');
        document.getElementById('adminModeBtn').style.background = 'red';
        alert("Admin mode dinonaktifkan.");
      }
    }

    function buatAkun() {
      if (!akunBolehDibuat) {
        document.getElementById('akunInfo').innerText = "Pembuatan akun sedang ditutup oleh admin.";
        return;
      }
      const nama = document.getElementById('namaAkun').value.trim();
      if (nama && !akunTerdaftar[nama]) {
        akunTerdaftar[nama] = { saldo: 0 };
        document.getElementById('akunInfo').innerText = `Akun ${nama} berhasil dibuat.`;
        updateAnggota();
        tambahLog(`Akun dibuat: ${nama}`);
      } else {
        document.getElementById('akunInfo').innerText = "Nama akun sudah digunakan atau kosong.";
      }
    }

    function tambahUang() {
      const nama = document.getElementById('namaAkun').value.trim();
      const jumlah = parseInt(document.getElementById('jumlahInput').value);
      if (akunTerdaftar[nama] && jumlah > 0) {
        akunTerdaftar[nama].saldo += jumlah;
        document.getElementById('saldoDisplay').innerText = `Saldo: ${akunTerdaftar[nama].saldo}`;
        tambahLog(`${nama} menambah uang ${jumlah}`);
      }
    }

    function ambilUang() {
      const nama = document.getElementById('namaAkun').value.trim();
      const jumlah = parseInt(document.getElementById('jumlahInput').value);
      if (akunTerdaftar[nama] && jumlah > 0 && akunTerdaftar[nama].saldo >= jumlah) {
        akunTerdaftar[nama].saldo -= jumlah;
        document.getElementById('saldoDisplay').innerText = `Saldo: ${akunTerdaftar[nama].saldo}`;
        tambahLog(`${nama} mengambil uang ${jumlah}`);
      }
    }

    function kirimChat() {
      const pesan = document.getElementById('chatInput').value.trim();
      const nama = document.getElementById('namaAkun').value.trim();
      if (pesan && nama) {
        const el = document.createElement('p');
        el.innerText = `${nama}: ${pesan}`;
        document.getElementById('chatBox').appendChild(el);
        document.getElementById('chatInput').value = '';
      }
    }

    function updateAnggota() {
      const list = document.getElementById('daftarAnggota');
      list.innerHTML = '';
      for (const nama in akunTerdaftar) {
        const li = document.createElement('li');
        li.innerText = `${nama} - Saldo: ${akunTerdaftar[nama].saldo}`;
        const btnHapus = document.createElement('button');
        btnHapus.innerText = 'Hapus';
        btnHapus.onclick = () => {
          delete akunTerdaftar[nama];
          updateAnggota();
          tambahLog(`Akun dihapus: ${nama}`);
        };
        li.appendChild(btnHapus);
        list.appendChild(li);
      }
    }

    function togglePembuatanAkun() {
      akunBolehDibuat = !akunBolehDibuat;
      alert(`Pembuatan akun ${akunBolehDibuat ? 'dibuka' : 'ditutup'}.`);
      tambahLog(`Pembuatan akun ${akunBolehDibuat ? 'dibuka' : 'ditutup'}`);
    }

    function tambahLog(teks) {
      riwayat.unshift(teks);
      if (riwayat.length > 5) riwayat.pop();
      const list = document.getElementById('logRiwayat');
      list.innerHTML = '';
      riwayat.forEach(item => {
        const li = document.createElement('li');
        li.innerText = item;
        list.appendChild(li);
      });
    }
  </script></body>
            </html>
