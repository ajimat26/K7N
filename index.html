.rekening}, Jum
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulasi Penarikan Poin</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    button { margin: 5px; padding: 10px 15px; }
    .hidden { display: none; }
  </style>
</head>
<body>

<h2>Selamat datang, <span id="nama">Guest</span>!</h2>
<p>Poin Anda: <span id="poin">0</span></p>
<p>Rekening: <span id="rekening">-</span></p>

<button onclick="bukaKotak()">Buka Kotak</button>
<button onclick="ajukanPenarikan()">Ajukan Penarikan</button>
<button onclick="lihatPesan()">Lihat Pesan</button>
<button onclick="loginAdmin()">Login Admin</button>

<div id="pesan" class="hidden"></div>
<div id="adminPanel" class="hidden">
  <h3>Admin Panel</h3>
  <button onclick="tambahPesan()">Tambah Pesan</button>
  <button onclick="lihatRiwayat()">Lihat Riwayat Penarikan</button>
  <button onclick="matikanKotak()">Aktif/Nonaktif Kotak</button>
</div>
<div id="riwayat" class="hidden"></div>

<script>
let poin = 0;
let user = {
  nama: "Guest",
  rekening: "-"
};
let pesanList = ["Selamat datang di aplikasi!", "Promo penarikan minggu ini!"];
let isAdmin = false;
let kotakAktif = true;
let riwayatPenarikan = [];

// Simulasi login user
function setUser(nama, rekening) {
  user.nama = nama;
  user.rekening = rekening;
  document.getElementById("nama").textContent = nama;
  document.getElementById("rekening").textContent = rekening;
}
setUser("User123", "1234567890");

// Fungsi utama
function bukaKotak() {
  if (!kotakAktif) return alert("Kotak saat ini sedang nonaktif.");
  const hasil = Math.floor(Math.random() * 50) + 1;
  poin += hasil;
  document.getElementById("poin").textContent = poin;
  alert(`Anda mendapatkan ${hasil} poin!`);
}

function ajukanPenarikan() {
  const jumlah = prompt("Masukkan jumlah poin yang ingin ditarik:");
  const jumlahNum = parseInt(jumlah);
  if (isNaN(jumlahNum) || jumlahNum <= 0) return alert("Jumlah tidak valid.");
  if (jumlahNum > poin) return alert("Poin tidak cukup.");
  poin -= jumlahNum;
  document.getElementById("poin").textContent = poin;
  riwayatPenarikan.push({
    nama: user.nama,
    rekening: user.rekening,
    jumlah: jumlahNum,
    waktu: new Date().toLocaleString()
  });
  alert("Penarikan berhasil diajukan!");
}

function lihatPesan() {
  const pesanEl = document.getElementById("pesan");
  if (pesanList.length === 0) {
    pesanEl.innerHTML = "<p>Tidak ada pesan.</p>";
  } else {
    pesanEl.innerHTML = "<ul>" + pesanList.map(p => `<li>${p}</li>`).join("") + "</ul>";
  }
  pesanEl.classList.toggle("hidden");
}

function loginAdmin() {
  const pw = prompt("Masukkan password admin:");
  if (pw === "admin123") {
    isAdmin = true;
    document.getElementById("adminPanel").classList.remove("hidden");
    alert("Login admin berhasil.");
  } else {
    alert("Password salah.");
  }
}

function tambahPesan() {
  if (!isAdmin) return alert("Akses ditolak.");
  const teks = prompt("Masukkan pesan baru:");
  if (teks) {
    pesanList.push(teks);
    alert("Pesan ditambahkan.");
  }
}

function lihatRiwayat() {
  const el = document.getElementById("riwayat");
  if (riwayatPenarikan.length === 0) {
    el.innerHTML = "<p>Tidak ada riwayat penarikan.</p>";
  } else {
    el.innerHTML = "<ul>" + riwayatPenarikan.map(w => `<li>Nama: ${w.nama}, Rekening: ${w.rekening}, Jumlah: ${w.jumlah}, Waktu: ${w.waktu}</li>`).join("") + "</ul>";
  }
  el.classList.toggle("hidden");
}

function matikanKotak() {
  if (!isAdmin) return alert("Akses ditolak.");
  kotakAktif = !kotakAktif;
  alert("Status kotak: " + (kotakAktif ? "AKTIF" : "NONAKTIF"));
}
</script>

</body>
</html>
