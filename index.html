<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UANGDUTY</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #333;
      color: white;
      padding: 10px;
      text-align: center;
      position: relative;
    }
    header h1 {
      margin: 0;
    }
    #adminToggle {
      position: absolute;
      top: 10px;
      left: 10px;
      background-color: green;
      color: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
    }
    #adminIndicator {
      font-size: 12px;
      color: yellow;
      margin-top: 5px;
    }
    main {
      padding: 20px;
    }
    .hidden {
      display: none;
    }
    .akun, .form, .chat, .uang {
      margin-bottom: 20px;
      padding: 10px;
      background-color: white;
      border-radius: 5px;
    }
    .uang p {
      color: green;
      font-weight: bold;
    }
    button {
      margin-top: 5px;
    }
  </style>
</head>
<body><header>
  <button id="adminToggle">Mode Admin</button>
  <h1>UANGDUTY</h1>
  <div id="adminIndicator" class="hidden">Mode Admin Aktif</div>
</header><main>
  <div id="formBuatAkun" class="form">
    <h2>Buat Akun</h2>
    <p id="infoBuatAkun"></p>
    <input type="text" id="username" placeholder="Nama">
    <button onclick="buatAkun()">Daftar</button>
  </div>  <div id="uangBox" class="uang hidden">
    <h2>Informasi Uang</h2>
    <p id="infoUang">Rp. 0</p>
    <button onclick="tambahUang(50000)">Tambah Uang</button>
    <button onclick="ambilUang(50000)">Ambil Uang</button>
    <button onclick="resetUang()">Reset</button>
  </div>  <div id="chatBox" class="chat hidden">
    <h2>Obrolan</h2>
    <textarea id="chatLog" rows="5" cols="30" readonly></textarea><br>
    <input type="text" id="chatInput">
    <button onclick="kirimChat()">Kirim</button>
  </div>  <div id="adminControl" class="hidden">
    <h2>Admin Panel</h2>
    <button onclick="togglePembuatanAkun()">Tutup/Buka Pembuatan Akun</button>
    <ul id="listAkun"></ul>
  </div>
</main><script>
let akun = null;
let dataAkun = [];
let uang = 0;
let pembuatanAkunDibuka = true;
let adminMode = false;

function buatAkun() {
  if (!pembuatanAkunDibuka) {
    document.getElementById('infoBuatAkun').innerText = 'Pembuatan akun ditutup oleh admin.';
    return;
  }
  if (akun) {
    document.getElementById('infoBuatAkun').innerText = 'Anda sudah memiliki akun!';
    return;
  }
  const nama = document.getElementById('username').value;
  if (!nama) return;
  akun = { nama: nama, uang: 0 };
  dataAkun.push(akun);
  document.getElementById('formBuatAkun').classList.add('hidden');
  document.getElementById('uangBox').classList.remove('hidden');
  document.getElementById('chatBox').classList.remove('hidden');
  updateUang();
}

function tambahUang(nominal) {
  uang += nominal;
  akun.uang = uang;
  updateUang();
}

function ambilUang(nominal) {
  if (uang >= nominal) uang -= nominal;
  akun.uang = uang;
  updateUang();
}

function resetUang() {
  uang = 0;
  akun.uang = 0;
  updateUang();
}

function updateUang() {
  document.getElementById('infoUang').innerText = `Rp. ${uang.toLocaleString('id-ID')}rb`;
}

function kirimChat() {
  const chat = document.getElementById('chatInput').value;
  if (chat) {
    document.getElementById('chatLog').value += akun.nama + ": " + chat + "\n";
    document.getElementById('chatInput').value = '';
  }
}

function toggleAdmin() {
  adminMode = !adminMode;
  document.getElementById('adminControl').classList.toggle('hidden', !adminMode);
  document.getElementById('adminIndicator').classList.toggle('hidden', !adminMode);
  if (adminMode) tampilkanDataAkun();
}

function tampilkanDataAkun() {
  const ul = document.getElementById('listAkun');
  ul.innerHTML = '';
  dataAkun.forEach((a, i) => {
    const li = document.createElement('li');
    li.innerHTML = `${a.nama} - Rp. ${a.uang.toLocaleString('id-ID')}rb
      <button onclick="hapusAkun(${i})">Hapus</button>
      <button onclick="ubahNama(${i})">Ubah Nama</button>`;
    ul.appendChild(li);
  });
}

function hapusAkun(index) {
  dataAkun.splice(index, 1);
  tampilkanDataAkun();
}

function ubahNama(index) {
  const namaBaru = prompt("Masukkan nama baru:");
  if (namaBaru) {
    dataAkun[index].nama = namaBaru;
    tampilkanDataAkun();
  }
}

function togglePembuatanAkun() {
  pembuatanAkunDibuka = !pembuatanAkunDibuka;
  alert("Pembuatan akun sekarang: " + (pembuatanAkunDibuka ? "DIBUKA" : "DITUTUP"));
}

document.getElementById('adminToggle').onclick = toggleAdmin;
</script></body>
</html>
