<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Fishing Simulator dengan Gambar</title>
<style>
  body { text-align: center; font-family: Arial, sans-serif; background: #a0d8f7; }
  canvas { background: #87ceeb; display: block; margin: 20px auto; border: 2px solid #004466; }
  button { padding: 10px 20px; font-size: 16px; }
</style>
</head>
<body>

<h1>Fishing Simulator dengan Gambar</h1>
<canvas id="gameCanvas" width="600" height="400"></canvas>
<p>Score: <span id="score">0</span></p>
<button id="castBtn">Lempar Joran</button>

<script>
// Load gambar ikan dan joran
const fishImg = new Image();
fishImg.src = 'https://i.imgur.com/JhxNu0B.png'; // contoh gambar ikan

const rodImg = new Image();
rodImg.src = 'https://i.imgur.com/MhG63ZV.png'; // contoh gambar joran

const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const scoreDisplay = document.getElementById('score');
const castBtn = document.getElementById('castBtn');

let score = 0;
let fishing = false;
let fishAppeared = false;
let fishX = 0;
let fishY = 0;
let fishWidth = 80;
let fishHeight = 40;

function drawWater() {
  ctx.fillStyle = '#3399ff';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
}

function drawFish() {
  ctx.drawImage(fishImg, fishX, fishY, fishWidth, fishHeight);
}

function drawRod() {
  // Gambar joran di sisi kanan bawah
  ctx.drawImage(rodImg, canvas.width - 150, canvas.height - 150, 100, 100);
}

function clear() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
}

function appearFish() {
  fishX = Math.random() * (canvas.width - fishWidth);
  fishY = Math.random() * (canvas.height - fishHeight);
  fishAppeared = true;
  drawFish();
}

function update() {
  clear();
  drawWater();
  drawRod();

  if (fishAppeared) {
    drawFish();
  }
}

castBtn.addEventListener('click', () => {
  if (!fishing) {
    fishing = true;
    fishAppeared = false;
    scoreDisplay.textContent = score;
    update();

    const waitTime = Math.random() * 2000 + 1000;
    setTimeout(() => {
      if (fishing) {
        appearFish();
      }
    }, waitTime);
  }
});

canvas.addEventListener('click', (e) => {
  if (fishing && fishAppeared) {
    const rect = canvas.getBoundingClientRect();
    const mouseX = e.clientX - rect.left;
    const mouseY = e.clientY - rect.top;

    if (mouseX > fishX && mouseX < fishX + fishWidth && mouseY > fishY && mouseY < fishY + fishHeight) {
      score++;
      scoreDisplay.textContent = score;
      fishing = false;
      fishAppeared = false;
      update();
      alert('Ikan tertangkap!');
    }
  }
});

function gameLoop() {
  update();
  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>

</body>
</html>
